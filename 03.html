<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Architettura Monolitica Modulare: il ritorno al monolite (ma fatto bene) - Danilo Paissan</title>
  <meta name="description" content="Trentino dentro, ligure fuori">
  <style>
      :root {
        --color-pearl: #F8F9FA;
        --color-light-silver: #E9ECEF;
        --color-smoke-gray: #CED4DA;
        --color-medium-gray: #6C757D;
        --color-dark-gray: #212529;
      }
      
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: var(--color-dark-gray);
        background-color: var(--color-pearl);
      }
      
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      
      header {
        background-color: var(--color-light-silver);
        border-bottom: 1px solid var(--color-smoke-gray);
        padding: 1rem 0;
      }
      
      nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .logo {
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--color-dark-gray);
        text-decoration: none;
      }
      
      .nav-links {
        display: flex;
        list-style: none;
        gap: 2rem;
      }
      
      .nav-links a {
        color: var(--color-medium-gray);
        text-decoration: none;
        transition: color 0.3s ease;
      }
      
      .nav-links a:hover {
        color: var(--color-dark-gray);
      }
      
      main {
        min-height: calc(100vh - 200px);
        padding: 2rem 0;
      }
      
      .post-list {
        display: grid;
        gap: 2rem;
      }
      
      .post-card {
        background: white;
        border: 1px solid var(--color-smoke-gray);
        border-radius: 8px;
        padding: 1.5rem;
        transition: box-shadow 0.3s ease;
      }
      
      .post-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      }
      
      .post-title {
        font-size: 1.5rem;
        margin-bottom: 0.5rem;
      }
      
      .post-title a {
        color: var(--color-dark-gray);
        text-decoration: none;
      }
      
      .post-excerpt {
        color: var(--color-medium-gray);
        margin-bottom: 1rem;
      }
      
      .read-more {
        color: var(--color-medium-gray);
        text-decoration: none;
        font-weight: 500;
      }
      
      .post-content {
        background: white;
        border: 1px solid var(--color-smoke-gray);
        border-radius: 8px;
        padding: 2rem;
        margin-bottom: 2rem;
      }
      
      .post-content h1, .post-content h2, .post-content h3 {
        margin-bottom: 1rem;
        color: var(--color-dark-gray);
      }
      
      .post-content p {
        margin-bottom: 1rem;
      }
      
      .post-content p a {
        color: rgb(33, 37, 41);
        text-decoration: none;
      }
      
      .post-content code {
        background-color: var(--color-light-silver);
        border: 1px solid var(--color-smoke-gray);
        border-radius: 4px;
        padding: 0.2em 0.5em;
        font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Monaco, monospace;
        font-size: 0.9em;
        color: #c7254e;
      }

      .post-content pre code {
        display: block;
        background-color: var(--color-dark-gray);
        color: var(--color-pearl);
        border: none;
        border-radius: 8px;
        padding: 1rem 1.25rem;
        overflow-x: auto;
        font-size: 0.875em;
        line-height: 1.7;
      }

      .post-content pre {
        margin-bottom: 1rem;
      }
      
      .back-link {
        display: inline-block;
        color: var(--color-medium-gray);
        text-decoration: none;
        margin-bottom: 2rem;
      }
      
      footer {
        background-color: var(--color-light-silver);
        border-top: 1px solid var(--color-smoke-gray);
        padding: 2rem 0;
        text-align: center;
        color: var(--color-medium-gray);
      }
      
      .footer-links {
        margin-bottom: 1rem;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 0.75rem;
      }
      
      .footer-links a {
        color: var(--color-medium-gray);
        text-decoration: none;
        transition: color 0.3s ease;
      }
      
      .footer-links a:hover {
        color: var(--color-dark-gray);
        text-decoration: underline;
      }
      
      .footer-links span {
        color: var(--color-smoke-gray);
      }
      
      .language-switcher {
        display: flex;
        gap: 0.5rem;
        align-items: center;
      }
      
      .language-switcher a {
        color: var(--color-medium-gray);
        text-decoration: none;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        transition: background-color 0.3s ease;
      }
      
      .language-switcher a:hover {
        background-color: var(--color-smoke-gray);
      }
      
      .language-switcher a.active {
        background-color: var(--color-smoke-gray);
        color: var(--color-dark-gray);
      }
      
      .social-links {
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--color-smoke-gray);
      }
      
      .social-links h3 {
        margin-bottom: 1rem;
        color: var(--color-dark-gray);
      }
      
      .social-links-list {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        list-style: none;
      }
      
      .social-links-list a {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 1rem;
        background-color: var(--color-light-silver);
        color: var(--color-dark-gray);
        text-decoration: none;
        border-radius: 4px;
        transition: background-color 0.3s ease;
      }
      
      .social-links-list a:hover {
        background-color: var(--color-smoke-gray);
      }
      
      /* Tag Cloud Styles */
      .tag-cloud {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        background-color: var(--color-light-silver);
        border-radius: 8px;
        margin: 1.5rem 0;
      }
      
      .tag-cloud-item {
        display: inline-block;
        padding: 0.5rem 1rem;
        background-color: white;
        color: var(--color-dark-gray);
        text-decoration: none;
        border-radius: 20px;
        border: 1px solid var(--color-smoke-gray);
        transition: all 0.3s ease;
        white-space: nowrap;
      }
      
      .tag-cloud-item:hover {
        background-color: var(--color-dark-gray);
        color: white;
        transform: scale(1.05);
      }
      
      .tag-cloud-intro {
        text-align: center;
        color: var(--color-medium-gray);
        margin-bottom: 1rem;
      }
      
      .tag-sections {
        display: grid;
        gap: 1.5rem;
        margin-top: 2rem;
      }
      
      .tag-section {
        background-color: white;
        border: 1px solid var(--color-smoke-gray);
        border-radius: 8px;
        padding: 1.5rem;
      }
      
      .tag-section h3 {
        color: var(--color-dark-gray);
        margin-bottom: 0.5rem;
        border-bottom: 2px solid var(--color-smoke-gray);
        padding-bottom: 0.5rem;
      }
      
      .tag-post-count {
        color: var(--color-medium-gray);
        font-size: 0.9rem;
        margin-bottom: 1rem;
      }
      
      .tag-posts-list {
        list-style: none;
        padding: 0;
      }
      
      .tag-posts-list li {
        padding: 0.5rem 0;
        border-bottom: 1px solid var(--color-light-silver);
      }
      
      .tag-posts-list li:last-child {
        border-bottom: none;
      }
      
      .tag-posts-list a {
        color: var(--color-dark-gray);
        text-decoration: none;
        transition: color 0.3s ease;
      }
      
      .tag-posts-list a:hover {
        color: var(--color-medium-gray);
        text-decoration: underline;
      }

      @media (max-width: 768px) {
        .nav-links {
          gap: 1rem;
        }
        
        .container {
          padding: 0 15px;
        }
        
        .post-content {
          padding: 1.5rem;
        }
        
        .tag-cloud {
          padding: 1rem;
        }
      }
    </style>
</head>
<body>
  <header>
    <nav class="container">
      <a href="index.html" class="logo">
        Danilo Paissan
      </a>
      <div style="display: flex; align-items: center; gap: 2rem;">
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="chi-sono.html">Chi sono</a></li>
        </ul>
        <div class="language-switcher">
          <a href="javascript:switchLanguage('en')" class="">EN</a>
          <span>|</span>
          <a href="javascript:switchLanguage('it')" class="active">IT</a>
        </div>
      </div>
    </nav>
  </header>
  
  <main class="container">
    
      <a href="index.html" class="back-link">&larr; Torna alla home</a>
      <article class="post-content">
        <h1>Architettura Monolitica Modulare: il ritorno al monolite (ma fatto bene)</h1>
        <p>Nel panorama dello sviluppo software, le architetture applicative hanno attraversato diverse ere, ciascuna con le proprie promesse e i propri compromessi. Oggi assistiamo a un fenomeno interessante: dopo anni di corsa verso i microservizi, molte organizzazioni stanno riscoprendo il valore di un&#39;architettura piÃ¹ semplice ma strutturata. Benvenuti nell&#39;era del <strong>Monolite Modulare</strong>.</p>
<hr>
<h2>Un viaggio nella storia delle architetture</h2>
<h3>L&#39;era del Monolite Tradizionale</h3>
<p>Agli albori dello sviluppo enterprise, il monolite era l&#39;unica opzione praticabile. Un&#39;unica applicazione, un unico deployment, un unico database. La semplicitÃ  era il suo punto di forza: tutto il codice risiedeva in un solo progetto, il debugging era lineare, e le transazioni ACID garantivano consistenza dei dati senza sforzi particolari.</p>
<p>Ma il monolite tradizionale portava con sÃ© problemi significativi. Man mano che l&#39;applicazione cresceva, il codice diventava un intricato groviglio di dipendenze. La famosa <em>Big Ball of Mud</em> non era un&#39;eccezione, ma la norma. Modificare una funzionalitÃ  significava rischiare di romperne altre dieci. Il deploy richiedeva il rilascio dell&#39;intera applicazione, anche per una singola correzione. E scalare significava replicare tutto, anche i componenti che non ne avevano bisogno.</p>
<p><strong>Pro del monolite tradizionale:</strong></p>
<ul>
<li>SemplicitÃ  di sviluppo iniziale e setup dell&#39;ambiente</li>
<li>Transazioni ACID native e consistenza immediata</li>
<li>Debugging e tracing diretti</li>
<li>Nessun overhead di rete per le chiamate interne</li>
<li>Deploy semplice (un solo artefatto)</li>
</ul>
<p><strong>Contro del monolite tradizionale:</strong></p>
<ul>
<li>Accoppiamento stretto tra componenti</li>
<li>ScalabilitÃ  solo verticale o replica completa</li>
<li>Deploy rischioso e tempi di rilascio lunghi</li>
<li>DifficoltÃ  nel far lavorare team multipli in parallelo</li>
<li>Tecnologie vincolate a scelte fatte anni prima</li>
</ul>
<h3>L&#39;avvento di SOA</h3>
<p>A cavallo del millennio, la <strong>Service-Oriented Architecture</strong> prometteva di risolvere i problemi del monolite attraverso la suddivisione in servizi riutilizzabili. L&#39;idea era elegante: componenti indipendenti che comunicano attraverso protocolli standard, orchestrati da un Enterprise Service Bus (ESB).</p>
<p>SOA introdusse concetti importanti come i contratti di servizio, la riusabilitÃ  e l&#39;interoperabilitÃ . Ma nella pratica, molte implementazioni SOA si rivelarono monoliti distribuiti mascherati. L&#39;ESB diventava spesso un single point of failure e un collo di bottiglia. La complessitÃ  si era semplicemente spostata, non eliminata.</p>
<p><strong>Pro di SOA:</strong></p>
<ul>
<li>RiusabilitÃ  dei servizi tra applicazioni diverse</li>
<li>Standard di comunicazione ben definiti (SOAP, WS-*)</li>
<li>Governance centralizzata</li>
<li>Integrazione tra sistemi eterogenei</li>
</ul>
<p><strong>Contro di SOA:</strong></p>
<ul>
<li>ESB come single point of failure</li>
<li>Overhead significativo dei protocolli SOAP/XML</li>
<li>ComplessitÃ  di configurazione e manutenzione</li>
<li>Spesso risultava in &quot;distributed monolith&quot;</li>
<li>Costi di licenza elevati per gli stack enterprise</li>
</ul>
<h3>La rivoluzione dei Microservizi</h3>
<p>Intorno al 2014, Netflix, Amazon e altre tech company iniziarono a evangelizzare i <strong>microservizi</strong>. Servizi piccoli, indipendenti, ciascuno con il proprio database, deployabili autonomamente. Era la promessa della vera agilitÃ : team autonomi, tecnologie eterogenee, scalabilitÃ  granulare.</p>
<p>I microservizi hanno funzionato brillantemente per organizzazioni con centinaia di sviluppatori e requisiti di scala estremi. Ma per la maggior parte delle aziende, hanno introdotto una complessitÃ  operativa sproporzionata. Gestire decine o centinaia di servizi richiede infrastrutture sofisticate: service discovery, circuit breaker, distributed tracing, orchestrazione di container. La consistenza dei dati, prima garantita dalle transazioni ACID, diventa un problema architetturale da risolvere con pattern come Saga o eventual consistency.</p>
<p><strong>Pro dei microservizi:</strong></p>
<ul>
<li>Indipendenza di deployment per ogni servizio</li>
<li>ScalabilitÃ  granulare e ottimizzata</li>
<li>Team autonomi con ownership chiara</li>
<li>LibertÃ  tecnologica per ogni servizio</li>
<li>Fault isolation naturale</li>
</ul>
<p><strong>Contro dei microservizi:</strong></p>
<ul>
<li>ComplessitÃ  operativa elevata (orchestrazione, monitoring, networking)</li>
<li>Latenza di rete per ogni chiamata tra servizi</li>
<li>Consistenza dei dati difficile da garantire</li>
<li>Debugging distribuito complesso</li>
<li>Overhead di infrastruttura significativo</li>
<li>Richiede maturitÃ  DevOps elevata</li>
</ul>
<h3>Il presente: Monolite Modulare</h3>
<p>Il <strong>Monolite Modulare</strong> rappresenta una sintesi pragmatica. Mantiene i vantaggi del monolite (semplicitÃ  operativa, transazioni ACID, assenza di latenza di rete) incorporando i principi architetturali che hanno reso i microservizi efficaci: boundaries chiari, basso accoppiamento, alta coesione.</p>
<p>L&#39;idea fondamentale Ã¨ strutturare l&#39;applicazione in <strong>moduli</strong> con confini ben definiti, ciascuno responsabile di un bounded context specifico. I moduli comunicano attraverso interfacce esplicite, non attraverso dipendenze dirette sul codice interno degli altri moduli.</p>
<p><strong>Pro del monolite modulare:</strong></p>
<ul>
<li>SemplicitÃ  operativa del monolite</li>
<li>Transazioni ACID quando necessario</li>
<li>Boundaries architetturali chiari e enforced</li>
<li>Preparazione naturale per un&#39;eventuale migrazione a microservizi</li>
<li>Costi di infrastruttura contenuti</li>
<li>Onboarding degli sviluppatori piÃ¹ semplice</li>
</ul>
<p><strong>Contro del monolite modulare:</strong></p>
<ul>
<li>Richiede disciplina per mantenere i confini tra moduli</li>
<li>ScalabilitÃ  ancora limitata rispetto ai microservizi</li>
<li>Deploy dell&#39;intera applicazione per ogni modifica</li>
<li>Stack tecnologico condiviso tra tutti i moduli</li>
</ul>
<h4>Struttura tipica di un progetto</h4>
<p>Come si traduce concretamente l&#39;architettura modulare nella struttura di un progetto? Ecco uno schema rappresentativo:</p>
<pre><code>ğŸ“ src/
â”‚
â”œâ”€â”€ ğŸ“ Modules/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ Orders/                          # MODULO ORDERS
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Application/                 # Casi d&#39;uso e logica applicativa
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Commands/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateOrder/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CreateOrderCommand.cs
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CreateOrderHandler.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CompleteOrder/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ CompleteOrderCommand.cs
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ CompleteOrderHandler.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Queries/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ GetOrderById/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ GetOrderByIdQuery.cs
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ GetOrderByIdHandler.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ EventHandlers/           # Handler per eventi da ALTRI moduli
â”‚   â”‚   â”‚       â””â”€â”€ CustomerUpdatedHandler.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Domain/                      # EntitÃ  e logica di dominio
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Order.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderLine.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ ValueObjects/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Money.cs
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Events/                  # Eventi di dominio PUBBLICATI da questo modulo
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderCreatedEvent.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderCompletedEvent.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Exceptions/
â”‚   â”‚   â”‚       â””â”€â”€ OrderNotFoundException.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Infrastructure/              # Persistenza e servizi esterni
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Persistence/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrdersDbContext.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Configurations/      # Mapping EF Core
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderConfiguration.cs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ Repositories/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderRepository.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Migrations/
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ 20240115_InitialCreate.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Outbox/                  # Transactional Outbox
â”‚   â”‚   â”‚       â””â”€â”€ OrdersOutboxProcessor.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Contracts/                   # INTERFACCIA PUBBLICA DEL MODULO
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ IntegrationEvents/       # Eventi per altri moduli
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OrderCompletedIntegrationEvent.cs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OrderCancelledIntegrationEvent.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Services/                # API pubblica (interfacce)
â”‚   â”‚   â”‚       â””â”€â”€ IOrderService.cs
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ OrdersModule.cs                 # Registrazione DI del modulo
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ Customers/                       # MODULO CUSTOMERS
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Application/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Domain/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Infrastructure/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Contracts/
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ IntegrationEvents/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ CustomerUpdatedIntegrationEvent.cs
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Services/
â”‚   â”‚   â”‚       â””â”€â”€ ICustomerService.cs     # Usato da Orders per ottenere dati cliente
â”‚   â”‚   â””â”€â”€ CustomersModule.cs
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ Inventory/                       # MODULO INVENTORY
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Application/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ EventHandlers/
â”‚   â”‚   â”‚       â””â”€â”€ OrderCompletedHandler.cs  # Reagisce a eventi di Orders
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Domain/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Infrastructure/
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ Idempotency/             # Gestione idempotenza
â”‚   â”‚   â”‚       â””â”€â”€ ProcessedEventsRepository.cs
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Contracts/
â”‚   â”‚   â””â”€â”€ InventoryModule.cs
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ Notifications/                   # MODULO NOTIFICATIONS
â”‚       â”œâ”€â”€ ğŸ“ Application/
â”‚       â”œâ”€â”€ ğŸ“ Domain/
â”‚       â”œâ”€â”€ ğŸ“ Infrastructure/
â”‚       â”œâ”€â”€ ğŸ“ Contracts/
â”‚       â””â”€â”€ NotificationsModule.cs
â”‚
â”œâ”€â”€ ğŸ“ Shared/                              # CODICE CONDIVISO (KERNEL)
â”‚   â”œâ”€â”€ ğŸ“ Domain/
â”‚   â”‚   â”œâ”€â”€ Entity.cs                       # Classe base per entitÃ 
â”‚   â”‚   â”œâ”€â”€ AggregateRoot.cs
â”‚   â”‚   â”œâ”€â”€ IDomainEvent.cs
â”‚   â”‚   â””â”€â”€ IIntegrationEvent.cs
â”‚   â”œâ”€â”€ ğŸ“ Infrastructure/
â”‚   â”‚   â”œâ”€â”€ ğŸ“ EventBus/
â”‚   â”‚   â”‚   â”œâ”€â”€ IEventBus.cs
â”‚   â”‚   â”‚   â””â”€â”€ InMemoryEventBus.cs
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Outbox/
â”‚   â”‚   â”‚   â”œâ”€â”€ OutboxMessage.cs
â”‚   â”‚   â”‚   â””â”€â”€ IOutboxProcessor.cs
â”‚   â”‚   â””â”€â”€ ğŸ“ Idempotency/
â”‚   â”‚       â”œâ”€â”€ ProcessedEvent.cs
â”‚   â”‚       â””â”€â”€ IIdempotencyService.cs
â”‚   â””â”€â”€ ğŸ“ Application/
â”‚       â””â”€â”€ ğŸ“ Behaviors/                   # Pipeline MediatR
â”‚           â”œâ”€â”€ LoggingBehavior.cs
â”‚           â””â”€â”€ TransactionBehavior.cs
â”‚
â”œâ”€â”€ ğŸ“ API/                                 # ENTRY POINT (Host)
â”‚   â”œâ”€â”€ ğŸ“ Controllers/
â”‚   â”‚   â”œâ”€â”€ OrdersController.cs             # Delega al modulo Orders
â”‚   â”‚   â”œâ”€â”€ CustomersController.cs
â”‚   â”‚   â””â”€â”€ InventoryController.cs
â”‚   â”œâ”€â”€ Program.cs                          # Composizione dei moduli
â”‚   â””â”€â”€ appsettings.json
â”‚
â””â”€â”€ ğŸ“ Database/
    â””â”€â”€ ğŸ“ Schemas/                         # Script DDL per schema separation
        â”œâ”€â”€ orders_schema.sql
        â”œâ”€â”€ customers_schema.sql
        â”œâ”€â”€ inventory_schema.sql
        â””â”€â”€ notifications_schema.sql
</code></pre>
<p><strong>Punti chiave della struttura:</strong></p>
<ol>
<li><p><strong>Ogni modulo Ã¨ autocontenuto</strong>: contiene la propria logica applicativa, dominio, infrastruttura e contratti. Non esistono dipendenze dirette tra le cartelle interne di moduli diversi.</p>
</li>
<li><p><strong>I Contracts definiscono l&#39;interfaccia pubblica</strong>: solo ciÃ² che Ã¨ nella cartella <code>Contracts</code> puÃ² essere referenziato da altri moduli. Questo include gli Integration Events e le interfacce dei servizi pubblici.</p>
</li>
<li><p><strong>Lo Shared Kernel Ã¨ minimale</strong>: contiene solo astrazioni di base (Entity, AggregateRoot, interfacce per eventi) e infrastruttura comune (EventBus, Outbox). Non contiene logica di business.</p>
</li>
<li><p><strong>L&#39;API Host compone i moduli</strong>: il progetto API non contiene logica di business, si limita a registrare i moduli e esporre gli endpoint HTTP.</p>
</li>
<li><p><strong>Database con schema separation</strong>: ogni modulo ha il proprio schema SQL, garantendo isolamento logico anche su un database fisico condiviso.</p>
</li>
</ol>
<hr>
<h2>Il design del database nel Monolite Modulare</h2>
<p>Una delle sfide piÃ¹ sottovalutate nel design di un monolite modulare riguarda il database. Come conciliare l&#39;autonomia dei moduli con l&#39;esistenza di un database condiviso?</p>
<h3>Il principio fondamentale: ownership esclusiva</h3>
<p>Ogni modulo deve avere <strong>ownership esclusiva</strong> sulle proprie tabelle. Nessun altro modulo puÃ² accedere direttamente a queste tabelle, nÃ© in lettura nÃ© in scrittura. Questo principio, apparentemente rigido, Ã¨ ciÃ² che permette ai moduli di evolvere indipendentemente.</p>
<p>Nella pratica, questo si traduce in:</p>
<ul>
<li>Separazione degli schemi (o prefissi nelle tabelle) per modulo</li>
<li>Accesso ai dati di altri moduli solo attraverso le API pubbliche del modulo proprietario</li>
<li>Nessuna foreign key tra tabelle di moduli diversi</li>
</ul>
<h3>Normalizzazione vs Denormalizzazione: il dilemma dei riferimenti cross-module</h3>
<p>Quando un modulo ha bisogno di dati gestiti da un altro modulo, si presenta un dilemma architetturale. Prendiamo un esempio concreto: il modulo <em>Orders</em> deve visualizzare informazioni sul cliente, gestito dal modulo <em>Customers</em>.</p>
<h4>Approccio 1: Soft Link (riferimento tramite ID)</h4>
<p>Il soft link mantiene solo l&#39;identificativo dell&#39;entitÃ  esterna.</p>
<pre><code>-- Tabella nel modulo Orders
CREATE TABLE orders (
    id UUID PRIMARY KEY,
    customer_id UUID NOT NULL,  -- Solo l&#39;ID, nessuna FK verso customers
    order_date TIMESTAMP,
    total_amount DECIMAL(10,2)
);
</code></pre>
<p>Con questo approccio, ogni volta che il modulo Orders necessita di informazioni sul cliente (nome, email, indirizzo di spedizione), deve invocare l&#39;API del modulo Customers.</p>
<p><strong>Vantaggi del Soft Link:</strong></p>
<ul>
<li>Dati sempre aggiornati e consistenti</li>
<li>Nessuna duplicazione di informazioni</li>
<li>Il modulo Customers Ã¨ l&#39;unica source of truth</li>
<li>Modifiche ai dati del cliente immediatamente visibili</li>
</ul>
<p><strong>Svantaggi del Soft Link:</strong></p>
<ul>
<li>Dipendenza runtime dal modulo Customers</li>
<li>Latenza aggiuntiva per ogni query che richiede dati del cliente</li>
<li>Se il modulo Customers Ã¨ lento o non disponibile, anche Orders ne risente</li>
<li>Query complesse che richiedono join logici diventano inefficienti</li>
</ul>
<h4>Approccio 2: Snapshot (copia locale dei dati)</h4>
<p>Lo snapshot mantiene una copia locale dei dati necessari al momento della creazione dell&#39;ordine.</p>
<pre><code>-- Tabella nel modulo Orders
CREATE TABLE orders (
    id UUID PRIMARY KEY,
    customer_id UUID NOT NULL,
    -- Snapshot dei dati del cliente al momento dell&#39;ordine
    customer_name VARCHAR(255) NOT NULL,
    customer_email VARCHAR(255) NOT NULL,
    shipping_address_snapshot JSONB NOT NULL,
    order_date TIMESTAMP,
    total_amount DECIMAL(10,2)
);
</code></pre>
<p><strong>Vantaggi dello Snapshot:</strong></p>
<ul>
<li>Autonomia completa del modulo Orders</li>
<li>Nessuna dipendenza runtime</li>
<li>Query performanti senza chiamate esterne</li>
<li>Storicizzazione naturale (l&#39;indirizzo del cliente al momento dell&#39;ordine Ã¨ preservato)</li>
<li>Resilienza: Orders funziona anche se Customers Ã¨ offline</li>
</ul>
<p><strong>Svantaggi dello Snapshot:</strong></p>
<ul>
<li>Duplicazione dei dati</li>
<li>Dati potenzialmente obsoleti (se il cliente cambia email)</li>
<li>Maggiore occupazione di storage</li>
<li>ComplessitÃ  nel decidere quando e cosa snapshotare</li>
</ul>
<h4>Quale approccio scegliere?</h4>
<p>La scelta dipende dal contesto di business:</p>
<p><strong>Usa Soft Link quando:</strong></p>
<ul>
<li>I dati devono essere sempre aggiornati in tempo reale</li>
<li>L&#39;entitÃ  referenziata Ã¨ soggetta a frequenti modifiche rilevanti</li>
<li>La latenza aggiuntiva Ã¨ accettabile</li>
<li>Esiste un requisito di consistenza forte</li>
</ul>
<p><strong>Usa Snapshot quando:</strong></p>
<ul>
<li>Hai bisogno di preservare lo stato storico (come era il dato <em>in quel momento</em>)</li>
<li>L&#39;autonomia e le performance del modulo sono prioritarie</li>
<li>I dati snapshotati cambiano raramente o le modifiche non sono rilevanti per il modulo consumer</li>
<li>Vuoi resilienza in caso di failure del modulo sorgente</li>
</ul>
<p>Nel caso degli ordini, lo snapshot Ã¨ spesso la scelta corretta: vogliamo sapere <em>a quale indirizzo Ã¨ stato spedito l&#39;ordine</em>, non l&#39;indirizzo attuale del cliente.</p>
<hr>
<h2>Comunicazione asincrona fra moduli</h2>
<p>In un monolite modulare ben progettato, la comunicazione tra moduli avviene principalmente in modo <strong>asincrono</strong> attraverso eventi. Questo pattern, mutuato dal mondo dei microservizi, porta benefici significativi anche all&#39;interno di un singolo processo.</p>
<h3>PerchÃ© asincrono?</h3>
<p>La comunicazione sincrona (chiamate dirette ai metodi pubblici di un altro modulo) crea accoppiamento temporale: il modulo chiamante deve attendere la risposta, e se il modulo chiamato Ã¨ lento o fallisce, il problema si propaga.</p>
<p>La comunicazione asincrona tramite eventi inverte questa dinamica:</p>
<ul>
<li>Il modulo produttore pubblica un evento e prosegue immediatamente</li>
<li>I moduli interessati reagiscono all&#39;evento quando e come preferiscono</li>
<li>L&#39;accoppiamento Ã¨ ridotto: il produttore non conosce i consumer</li>
</ul>
<h3>Implementazione pratica</h3>
<p>In un monolite modulare, gli eventi possono viaggiare attraverso:</p>
<ul>
<li>Un message broker in-process (come MediatR in .NET o un EventBus custom)</li>
<li>Una coda persistente interna (tabella del database usata come coda)</li>
<li>Un broker esterno (RabbitMQ, Kafka) per maggiore resilienza</li>
</ul>
<p>Un esempio di flusso:</p>
<pre><code>1. Il modulo Orders completa un ordine
2. Orders pubblica l&#39;evento &quot;OrderCompleted&quot; con i dati rilevanti
3. Il modulo Inventory riceve l&#39;evento e decrementa le scorte
4. Il modulo Notifications riceve l&#39;evento e invia l&#39;email di conferma
5. Il modulo Analytics riceve l&#39;evento e aggiorna le statistiche
</code></pre>
<p>Ogni modulo reagisce indipendentemente, senza che Orders debba conoscere l&#39;esistenza di Inventory, Notifications o Analytics.</p>
<hr>
<h2>Transactional Outbox: garantire la consegna degli eventi</h2>
<p>Uno dei problemi piÃ¹ insidiosi nella comunicazione asincrona Ã¨ garantire che gli eventi vengano effettivamente pubblicati. Consideriamo questo scenario:</p>
<pre><code>BEGIN TRANSACTION;
    UPDATE orders SET status = &#39;completed&#39; WHERE id = ?;
    -- Pubblica evento su message broker
COMMIT;
</code></pre>
<p>Cosa succede se il commit del database ha successo, ma la pubblicazione dell&#39;evento fallisce (network timeout, broker non disponibile)? L&#39;ordine risulta completato nel database, ma nessun altro modulo ne viene informato. Abbiamo una <strong>inconsistenza</strong>.</p>
<p>Il problema inverso Ã¨ altrettanto grave: se pubblichiamo l&#39;evento prima del commit e poi il commit fallisce, abbiamo notificato un evento per un&#39;operazione mai avvenuta.</p>
<h3>La soluzione: Transactional Outbox Pattern</h3>
<p>Il pattern <strong>Transactional Outbox</strong> risolve elegantemente questo problema usando il database stesso come buffer per gli eventi.</p>
<pre><code>BEGIN TRANSACTION;
    -- 1. Esegui l&#39;operazione di business
    UPDATE orders SET status = &#39;completed&#39; WHERE id = ?;
    
    -- 2. Scrivi l&#39;evento nella tabella outbox (stessa transazione!)
    INSERT INTO outbox (id, event_type, payload, created_at, processed)
    VALUES (?, &#39;OrderCompleted&#39;, &#39;{&quot;orderId&quot;: &quot;...&quot;, ...}&#39;, NOW(), false);
COMMIT;
</code></pre>
<p>La tabella outbox potrebbe avere questa struttura:</p>
<pre><code class="language-sql">CREATE TABLE outbox (
    id UUID PRIMARY KEY,
    event_type VARCHAR(255) NOT NULL,
    payload JSONB NOT NULL,
    created_at TIMESTAMP NOT NULL,
    processed BOOLEAN DEFAULT false,
    processed_at TIMESTAMP NULL,
    retry_count INT DEFAULT 0
);
</code></pre>
<p>Un processo separato (Outbox Processor) legge periodicamente la tabella outbox e pubblica gli eventi non ancora processati:</p>
<pre><code>1. SELECT * FROM outbox WHERE processed = false ORDER BY created_at LIMIT 100;
2. Per ogni record:
   a. Pubblica l&#39;evento sul message broker
   b. UPDATE outbox SET processed = true, processed_at = NOW() WHERE id = ?;
</code></pre>
<h3>Vantaggi del Transactional Outbox</h3>
<ul>
<li><strong>AtomicitÃ  garantita</strong>: l&#39;evento viene scritto nella stessa transazione dell&#39;operazione di business</li>
<li><strong>At-least-once delivery</strong>: se la pubblicazione fallisce, l&#39;evento rimane nella outbox e verrÃ  riprovato</li>
<li><strong>Ordinamento preservato</strong>: gli eventi vengono processati nell&#39;ordine di creazione</li>
<li><strong>Resilienza</strong>: il sistema tollera downtime temporanei del message broker</li>
<li><strong>AuditabilitÃ </strong>: la tabella outbox funge da log degli eventi pubblicati</li>
</ul>
<h3>Considerazioni implementative</h3>
<p>Il processo di pubblicazione puÃ² essere implementato come:</p>
<ul>
<li>Un job schedulato (polling della tabella ogni N secondi)</li>
<li>Un background worker che usa LISTEN/NOTIFY (PostgreSQL) o Change Data Capture</li>
<li>Un processo separato con logica di backoff esponenziale per i retry</li>
</ul>
<hr>
<h2>Idempotenza del consumer</h2>
<p>Se il Transactional Outbox garantisce <strong>at-least-once delivery</strong>, dobbiamo prepararci alla possibilitÃ  che lo stesso evento venga consegnato piÃ¹ volte. Questo puÃ² accadere per vari motivi:</p>
<ul>
<li>Il consumer processa l&#39;evento ma crasha prima di confermare l&#39;avvenuta elaborazione</li>
<li>Network partition temporanea causa retry automatici</li>
<li>Bug nel sistema di messaging</li>
</ul>
<p>Un consumer <strong>idempotente</strong> Ã¨ un consumer che produce lo stesso risultato indipendentemente dal numero di volte che riceve lo stesso messaggio.</p>
<h3>Il problema della doppia elaborazione</h3>
<p>Immaginiamo che il modulo Inventory riceva due volte l&#39;evento <code>OrderCompleted</code> per lo stesso ordine. Senza protezioni:</p>
<pre><code>Evento 1: OrderCompleted(orderId: 123, items: [{sku: &quot;ABC&quot;, qty: 2}])
  â†’ Inventory decrementa ABC di 2 unitÃ  (stock: 100 â†’ 98)

Evento 2 (duplicato): OrderCompleted(orderId: 123, items: [{sku: &quot;ABC&quot;, qty: 2}])
  â†’ Inventory decrementa ABC di 2 unitÃ  (stock: 98 â†’ 96)  // ERRORE!
</code></pre>
<p>Il risultato Ã¨ uno stock errato. In altri contesti (pagamenti, spedizioni), le conseguenze potrebbero essere molto piÃ¹ gravi.</p>
<h3>Idempotency Key: la soluzione</h3>
<p>La strategia piÃ¹ robusta per garantire idempotenza Ã¨ utilizzare una <strong>Idempotency Key</strong>: un identificatore univoco associato a ogni evento che permette di riconoscere i duplicati.</p>
<pre><code class="language-sql">CREATE TABLE processed_events (
    idempotency_key VARCHAR(255) PRIMARY KEY,
    processed_at TIMESTAMP NOT NULL,
    result JSONB NULL  -- Opzionale: memorizza il risultato per rispondere ai duplicati
);
</code></pre>
<p>Il consumer, prima di elaborare un evento, verifica se Ã¨ giÃ  stato processato:</p>
<pre><code class="language-python">def handle_order_completed(event):
    idempotency_key = f&quot;OrderCompleted:{event.order_id}&quot;
    
    # Verifica se giÃ  processato
    if exists_in_processed_events(idempotency_key):
        logger.info(f&quot;Evento giÃ  processato, ignoro: {idempotency_key}&quot;)
        return
    
    # Elabora l&#39;evento
    with transaction():
        decrement_inventory(event.items)
        
        # Registra l&#39;elaborazione (stessa transazione!)
        insert_processed_event(idempotency_key)
</code></pre>
<h3>Best practice per l&#39;Idempotency Key</h3>
<p><strong>Composizione della chiave</strong>: l&#39;idempotency key dovrebbe identificare univocamente l&#39;operazione, non solo il messaggio. Una buona chiave potrebbe essere:</p>
<ul>
<li><code>{event_type}:{entity_id}</code> per eventi semplici</li>
<li><code>{event_type}:{entity_id}:{version}</code> se l&#39;entitÃ  puÃ² generare piÃ¹ eventi dello stesso tipo</li>
<li><code>{event_type}:{correlation_id}</code> per flussi complessi</li>
</ul>
<p><strong>Storage della chiave</strong>: la registrazione dell&#39;idempotency key deve avvenire nella stessa transazione dell&#39;elaborazione. Altrimenti, se il sistema crasha tra l&#39;elaborazione e la registrazione, il duplicato verrÃ  processato nuovamente.</p>
<p><strong>Pulizia periodica</strong>: la tabella <code>processed_events</code> crescerÃ  nel tempo. Implementa una politica di retention (es. elimina record piÃ¹ vecchi di 30 giorni) basata sul tuo SLA di ridelivery.</p>
<p><strong>Risposta ai duplicati</strong>: in alcuni casi, potresti voler restituire lo stesso risultato di un&#39;operazione giÃ  completata. Memorizzare il risultato insieme all&#39;idempotency key permette di farlo.</p>
<hr>
<h2>Mettere tutto insieme: un&#39;architettura coerente</h2>
<p>Ricapitoliamo come questi pattern si combinano in un monolite modulare ben progettato:</p>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MONOLITE MODULARE                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   Orders     â”‚    â”‚  Inventory   â”‚    â”‚Notifications â”‚      â”‚
â”‚  â”‚   Module     â”‚    â”‚   Module     â”‚    â”‚   Module     â”‚      â”‚
â”‚  â”‚              â”‚    â”‚              â”‚    â”‚              â”‚      â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚
â”‚  â”‚ â”‚  Orders  â”‚ â”‚    â”‚ â”‚Inventory â”‚ â”‚    â”‚ â”‚Templates â”‚ â”‚      â”‚
â”‚  â”‚ â”‚  Table   â”‚ â”‚    â”‚ â”‚  Table   â”‚ â”‚    â”‚ â”‚  Table   â”‚ â”‚      â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚      â”‚
â”‚  â”‚ â”‚  Outbox  â”‚ â”‚    â”‚ â”‚Processed â”‚ â”‚    â”‚ â”‚Processed â”‚ â”‚      â”‚
â”‚  â”‚ â”‚  Table   â”‚ â”‚    â”‚ â”‚ Events   â”‚ â”‚    â”‚ â”‚ Events   â”‚ â”‚      â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                   â”‚                   â”‚               â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         â”‚    â”‚                                                  â”‚
â”‚         â–¼    â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”                                             â”‚
â”‚  â”‚  Event Bus /   â”‚                                             â”‚
â”‚  â”‚ Message Broker â”‚                                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>Il flusso tipico:</p>
<ol>
<li><strong>Orders Module</strong> riceve una richiesta di completamento ordine</li>
<li>In un&#39;unica transazione:<ul>
<li>Aggiorna lo stato dell&#39;ordine</li>
<li>Scrive l&#39;evento <code>OrderCompleted</code> nella sua tabella <strong>Outbox</strong></li>
</ul>
</li>
<li>L&#39;<strong>Outbox Processor</strong> legge l&#39;evento e lo pubblica sull&#39;<strong>Event Bus</strong></li>
<li><strong>Inventory Module</strong> riceve l&#39;evento:<ul>
<li>Controlla l&#39;<strong>Idempotency Key</strong> nella tabella <code>processed_events</code></li>
<li>Se nuovo, elabora l&#39;evento e registra la chiave (stessa transazione)</li>
<li>Se duplicato, ignora</li>
</ul>
</li>
<li><strong>Notifications Module</strong> segue lo stesso pattern</li>
</ol>
<hr>
<h2>Conclusioni</h2>
<p>L&#39;architettura monolitica modulare non Ã¨ un passo indietro rispetto ai microservizi, ma un riconoscimento pragmatico che la complessitÃ  architetturale ha un costo. Per molte organizzazioni, questo costo supera i benefici.</p>
<p>I pattern che abbiamo esplorato (Transactional Outbox, Idempotency Key, comunicazione asincrona, strategie di riferimento cross-module) non sono esclusivi dei microservizi. Applicati a un monolite modulare, permettono di ottenere molti dei benefici architetturali dei sistemi distribuiti mantenendo la semplicitÃ  operativa di un&#39;applicazione monolitica.</p>
<p>La vera maturitÃ  architetturale non sta nel seguire le mode, ma nel comprendere i trade-off e scegliere la soluzione piÃ¹ adatta al proprio contesto. E per molti contesti, quel contesto Ã¨ un monolite ben strutturato.</p>
<hr>
<p><em>&quot;Make it work, make it right, make it fast&quot;</em> â€” Kent Beck</p>
<p>Nel caso dell&#39;architettura software, potremmo aggiungere: <em>&quot;...and keep it simple until you have a reason not to.&quot;</em></p>
      </article>
    
  </main>
  
  <footer>
    <div class="container">
      <div class="footer-links">
        <a href="cookie-policy.html">Cookie Policy</a>
        <span>|</span>
        <a href="argomenti.html">Argomenti</a>
      </div>
      <p>&copy; 2024 Danilo Paissan. Tutti i diritti riservati.</p>
    </div>
  </footer>
  
  
      <div id="cookie-banner" class="cookie-banner" style="display: none;">
        <div class="cookie-content">
          <h3>Informativa sui Cookie</h3>
          <p>Questo sito non utilizza cookie di tracciamento o di profilazione. I cookie tecnici vengono utilizzati solo per il funzionamento del sito.</p>
          <div class="cookie-buttons">
            <button onclick="acceptCookies()" class="btn-accept">Accetto</button>
            <button onclick="rejectCookies()" class="btn-reject">Rifiuto</button>
          </div>
        </div>
      </div>
      
      <style>
        .cookie-banner {
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          background: var(--color-dark-gray);
          color: white;
          z-index: 1000;
          padding: 1rem;
        }
        
        .cookie-content {
          max-width: 800px;
          margin: 0 auto;
        }
        
        .cookie-content h3 {
          margin-bottom: 0.5rem;
        }
        
        .cookie-content p {
          margin-bottom: 1rem;
        }
        
        .cookie-buttons {
          display: flex;
          gap: 1rem;
        }
        
        .cookie-buttons button {
          padding: 0.5rem 1rem;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-weight: 500;
        }
        
        .btn-accept {
          background: var(--color-light-silver);
          color: var(--color-dark-gray);
        }
        
        .btn-reject {
          background: var(--color-medium-gray);
          color: white;
        }
        
        .cookie-rejected {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 100vh;
          text-align: center;
        }
      </style>
      
      <script>
        function checkCookieConsent() {
          const consent = localStorage.getItem('cookieConsent');
          if (consent === 'rejected') {
            document.body.innerHTML = `
              <div class="cookie-rejected">
                <h2>Ãˆ necessario accettare i cookie per accedere al sito.</h2>
                <button onclick="resetCookieConsent()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: var(--color-medium-gray); color: white; border: none; border-radius: 4px; cursor: pointer;">
                  Accetto
                </button>
              </div>
            `;
            return;
          }
          if (!consent) {
            document.getElementById('cookie-banner').style.display = 'block';
          }
        }
        
        function acceptCookies() {
          localStorage.setItem('cookieConsent', 'accepted');
          document.getElementById('cookie-banner').style.display = 'none';
        }
        
        function rejectCookies() {
          localStorage.setItem('cookieConsent', 'rejected');
          location.reload();
        }
        
        function resetCookieConsent() {
          localStorage.removeItem('cookieConsent');
          location.reload();
        }
        
        // Check consent on page load
        document.addEventListener('DOMContentLoaded', checkCookieConsent);
      </script>
    
  
  <script>
    function switchLanguage(lang) {
      const currentPath = window.location.pathname;
      const filename = currentPath.split('/').pop() || 'index.html';
      
      let newFilename;
      if (lang === 'en') {
        if (filename === 'index.html') {
          newFilename = 'index-en.html';
        } else if (filename === 'chi-sono.html') {
          newFilename = 'about.html';
        } else if (filename === 'argomenti.html') {
          newFilename = 'topics.html';
        } else if (filename === 'cookie-policy.html') {
          newFilename = 'cookie-policy-en.html';
        } else if (!filename.includes('-en.html')) {
          newFilename = filename.replace('.html', '-en.html');
        } else {
          newFilename = filename;
        }
      } else {
        if (filename === 'index-en.html') {
          newFilename = 'index.html';
        } else if (filename === 'about.html') {
          newFilename = 'chi-sono.html';
        } else if (filename === 'topics.html') {
          newFilename = 'argomenti.html';
        } else if (filename === 'cookie-policy-en.html') {
          newFilename = 'cookie-policy.html';
        } else if (filename.includes('-en.html')) {
          newFilename = filename.replace('-en.html', '.html');
        } else {
          newFilename = filename;
        }
      }
      
      window.location.href = newFilename;
    }
  </script>
</body>
</html>